---
layout: post
title: "네이버 핵데이 후기와 일기, 그 사이"
comments: false
description: ""
keywords: ""
---


# 서론

피곤하기도 하고 생각이 머릿속에 잘 정리되지 않으니 **의식의 흐름** 대로 이번 핵데이의 후기를 작성해보려 한다.


나는 해커톤을 좋아한다. 그래서 대부분 해커톤은 거의 다 참여했고 이번 여름에는 해커톤을 주최할 기회까지 얻게 되었다.

해커톤을 좋아하는 이유는 낯선 사람들과 대화하고 빠른 시간안에 무언가를 해냈다는 성취감을 느끼기 때문인데, 더 큰 이유는 주변 사람들을 보면서 자극을 받을 수 있다는 점 때문인 것 같다.

이번 네이버 핵데이는 나에게 조금 더 큰 의미로 다가왔다.

1년 전, 2회 핵데이에 참여했을 때는 24시간 동안 아무것도 하지 못하고 과자만 먹다 왔었다. 하지만 1년이 지난 지금은 과자도 먹고 개발도 하다 왔으니 1년 동안 참 많이 발전한 것 같기도 하다.

사실 나는 서버개발캠프를 수료한 날에도 8주 동안 내가 성장했다는 걸 인지하지 못했는데, 핵데이를 기준으로 정확히 1년 나는 많이 성장했다고 확신한다. ~~( 솔직히 1년 동안 제자리면 문제가 있다. )~~

해커톤을 나가면 다른 사람들에게 자극을 받았지만, 이번에는 스스로 자극을 받은 것이 이번 핵데이에서 얻은 것 중 가장 큰 것 같다.

학교에 목메던 학부생이 1년이 지나고 이제 제법 큰 회사에서 인턴까지 하고 있다는 게 격세지감까지 느끼게 된다.


# 본론

매회 진행되는 핵데이는 점점 인지도가 높아져서인지 경쟁률도 치열해졌다. 물론 이번에도 운이 좋아 관심 있는 주제에 참여하게 되었고 좋은 경험하게 되었다.

이번 핵데이의 주제는 **브라우저 익스텐션을 이용한 URL 간편 결제 시스템 구축** 이다.

처음 주제를 봤을 때 무엇을 만들어야 하는지 감이 오지 않았는데, 요구 명세를 보고 더 감이 안 와서 난감했다.

주제가 선정되고 며칠 후 팀원들과 멘토님과 연락이 닿아 오프라인 미팅도 하게 되었다.

오프라인 미팅을 하면서 멘토님에게 주제에 대한 기본적인 내용과 설명을 듣게 되었다.

간단하게 서비스 플로우를 설명하자면

사용자가 블로그에 물건을 판다고 글을 올린 뒤, 익스텐션에 블로그 글의 URL과 간단한 정보를 다시 한 번 등록하게 된다.

일반 사용자는 등록된 블로그의 글을 보게 된다면 익스텐션에서 알림을 받을 수 있고, 물건이 마음에 든다면 익스텐션에서 바로 결제를 할 수 있는 흐름을 가지고 있다.

이런 플로우를 보면서 가장 중요하게 생각한 건 결제에 대한 처리였다.

아무래도 주제에 **간편 결제 시스템** 이라는 단어가 들어가 있기도 하고, 처음 접하는 주제라 **결제** 라는 것에 꽂히게 되었다.

~~업무시간에~~ 틈틈이 결제에 관해 공부를 했고, 서버개발캠프에서 많은 도움을 받은 캠프장님과 여이사님께도 결제에 관해 물어 가면서 공부를 했다.

당연히 결제 시스템을 만드는 데 있어서 가장 중요한 부분은 **트랜잭션** 인 것 같았다.

평소에 API 서버를 구현할 때 트랜잭션은 DB 쿼리를 작성할 때 많이 접했기에 이번에도 큰 무리는 없을 것 같았다. 하지만 일반적인 글과 댓글 사이의 트랜잭션과 다르게 **결제** 라는 주제는 더욱 원자성과 일관성이 중요했다. ~~( 돈과 관련되었으니까 )~~

코드 단에서 트랜잭션에 대한 처리뿐만 아니라 로그를 쌓아 데이터를 보장하고, DB에 마스터-슬레이브 구조를 통해 도중에 서버가 다운되거나 예기치 못한 상황을 대비하고 싶었다. 그리고 공부를 하다 알게 된 TCC(Try-Confirm/Cancel)을 사용하여 REST 기반 분산 트랜잭션을 구현해보고 싶었다.


하지만 이 모든 것을 1박 2일동안 구현하기에는 시간적으로 또 그리고 특히 **기술적으로** 부족한 게 많았다.

또 그리고 트랜잭션에 꽂혀 다른 부분을 신경 쓰지 못하고 있다가 뒤늦게 다른 중요한 부분을 알아차리게 되었다. URL에 관한 부분이었는데, 등록된 URL이 보여주는 페이지에 접근할 수 있는 URL이 하나가 아닌 점이다. ( A라는 페이지에 접근할 수 있는 URL이 여러 개 인 경우 )

예를 들어 깃헙 페이지를 보자면

hanmanhyuk.github.io에 CNAME을 등록하여  hanmanhyuk.xyz 를 가리키고 있다면 페이지는 두 개의 접근할 수 있는 URL을 가지고 있게 된다.

이러한 경우에는 사용자는 URL을 두 개를 등록해야 하게 된다. 또한, URL에 쿼리스트링이나 파라미터가 붙는 경우도 생각해야 했다.

- 파라미터와 쿼리스트링이 붙는 예시
 - 검색을 통해서 블로그에 접근한다면 받게 되는 URL
 - https://blog.naver.com/bahna2?Redirect=Log&logNo=221258925213
 - 또 다른 해당 블로그의 URL
 -  https://blog.naver.com/bahna2/221258925213


결제에 너무 집중한 나머지 이러한 문제를 뒤늦게 알게 되었다.

여러 가지 문제 해결방법이 나왔지만 100% 확신할 수 있는 방안은 떠오르지 않았다.

내가 생각했던 방법은 등록된 URL의 목록을 가져와 주기적으로 접근하여 리다이렉트 되는 URL을 따로 저장하는 방법이었다. 이 방법은 구글 검색봇 처럼 데몬을 하나 만들어 작동 시켜야 하고 페이지에 접근할 수 있는 URL이 3개 이상이라면 의미가 없었다.

결국, URL의 문제도 해결하지 못하고 트랜잭션도 간소화해서 구현하게 되었다.

주말 동안 URL에 대한 해결 방안을 더 생각해보고 구현하지 못했던 트랜잭션에 관한 내용을 정리하여 올리는 것으로 이번 핵데이를 마무리해야겠다.


# 결론

이번 핵데이는 만족한 점도 많지만, 너무 절실했던 만큼 아쉬운 점이 많은 것 같다.

요구 명세를 정확히 파악하지 못해 시간을 지체했고, 준비해간 것에 비해 결과물이 조금 부족한 것 같아 아쉽다.

하지만 좋은 사람들과 함께 또 무언가를 해냈다는 점에 뿌듯함과 성취감을 느꼈기에 후회는 없다.

작년 2회 핵데이를 시작으로 4회까지 빠짐없이 참여할 수 있던 것은 운이 좋아서라고 생각하고 있으며 정말 감사함을 느낀다. 그런데 지금까지 3번의 핵데이를 참여했다는 사실이 조금 부끄럽기도 했다.

다들 한 두 번 참여해서 인턴십으로 넘어가거나 정직원으로 채용되어 그린팩토리에서 일을 하고있는 친구들이 많아서 그런 것 같기도하고...

그린팩토리에 갈 일이 생길 때마다 1층에서 반겨주는 친구들이 너무 고맙기도 하지만 한편으로는 그 친구들을 볼 때마다 조급함이 생기기도 한다. 그래도 열심히 노력하다 보면 언젠간 멘티가 아닌 멘토로 핵데이에 참여할 날이 올 것으로 생각한다. ~~그래서 오늘도 나는 커밋을 한다.~~



#### P.S
세상 정말 좁은 게 팀원들과 멘토님 다 공통적인 부분이 있었고 개인적인 인연이 있기도 했었다. 덕분에 팀 워크가 정말 좋았고 협업을 하는 데 있어서 전혀 문제점이 없었다.

~~다음 겨울 핵데이에도 참여할 것 같다.~~
